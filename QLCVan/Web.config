<?xml version="1.0" encoding="utf-8"?>
<configuration>

	<!-- Kết nối cơ sở dữ liệu -->
	<connectionStrings>
		<!-- ASP.NET Membership mặc định -->
		<add name="ApplicationServices"
			 connectionString="Data Source=localhost;Integrated Security=SSPI;AttachDBFilename=|DataDirectory|\aspnetdb.mdf;User Instance=true;TrustServerCertificate=True"
			 providerName="System.Data.SqlClient" />

		<!-- Kết nối chính tới database QuanLyCongVan -->
		<add name="QuanLyCongVanConnectionString"
			 connectionString="Data Source=localhost;Initial Catalog=QuanLyCongVan;Integrated Security=True;TrustServerCertificate=True"
			 providerName="System.Data.SqlClient" />

		<add name="QuanLyCongVanConnectionString1"
			 connectionString="Data Source=localhost;Initial Catalog=QuanLyCongVan;Integrated Security=True;TrustServerCertificate=True"
			 providerName="System.Data.SqlClient" />
	</connectionStrings>

	<!-- Cấu hình ASP.NET -->
	<system.web>
		<!-- Build/Compile -->
		<compilation debug="true" targetFramework="4.8">
			<assemblies>
				<!-- Thêm LINQ to SQL -->
				<add assembly="System.Data.Linq, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
			</assemblies>
		</compilation>

		<!-- Runtime -->
		<httpRuntime targetFramework="4.8" />

		<!-- Xác thực -->
		<authentication mode="Forms">
			<forms loginUrl="~/Account/Login.aspx" timeout="2880" />
		</authentication>

		<!-- Membership -->
		<membership>
			<providers>
				<clear />
				<add name="AspNetSqlMembershipProvider"
					 type="System.Web.Security.SqlMembershipProvider"
					 connectionStringName="ApplicationServices"
					 enablePasswordRetrieval="false"
					 enablePasswordReset="true"
					 requiresQuestionAndAnswer="false"
					 requiresUniqueEmail="false"
					 maxInvalidPasswordAttempts="5"
					 minRequiredPasswordLength="6"
					 minRequiredNonalphanumericCharacters="0"
					 passwordAttemptWindow="10"
					 applicationName="/" />
			</providers>
		</membership>

		<!-- Profile -->
		<profile>
			<providers>
				<clear />
				<add name="AspNetSqlProfileProvider"
					 type="System.Web.Profile.SqlProfileProvider"
					 connectionStringName="ApplicationServices"
					 applicationName="/" />
			</providers>
		</profile>

		<!-- Roles -->
		<roleManager enabled="false">
			<providers>
				<clear />
				<add name="AspNetSqlRoleProvider"
					 type="System.Web.Security.SqlRoleProvider"
					 connectionStringName="ApplicationServices"
					 applicationName="/" />
				<add name="AspNetWindowsTokenRoleProvider"
					 type="System.Web.Security.WindowsTokenRoleProvider"
					 applicationName="/" />
			</providers>
		</roleManager>

		<!-- Đăng ký AjaxToolkit -->
		<pages controlRenderingCompatibilityVersion="4.0">
			<controls>
				<add tagPrefix="ajaxToolkit" assembly="AjaxControlToolkit" namespace="AjaxControlToolkit" />
			</controls>
		</pages>
	</system.web>

	<!-- IIS -->
	<system.webServer>
		<modules runAllManagedModulesForAllRequests="true" />
	</system.webServer>

</configuration>
